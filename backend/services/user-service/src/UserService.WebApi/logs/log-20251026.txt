2025-10-26 10:54:47.484 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-10-26 10:54:47.547 +03:00 [INF] Now listening on: http://localhost:5067
2025-10-26 10:54:47.548 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-26 10:54:47.549 +03:00 [INF] Hosting environment: Development
2025-10-26 10:54:47.549 +03:00 [INF] Content root path: /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi
2025-10-26 10:55:26.424 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-10-26 10:55:26.517 +03:00 [INF] Now listening on: http://localhost:5067
2025-10-26 10:55:26.518 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-26 10:55:26.518 +03:00 [INF] Hosting environment: Development
2025-10-26 10:55:26.518 +03:00 [INF] Content root path: /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi
2025-10-26 11:02:16.773 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/ - null null
2025-10-26 11:02:16.786 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-26 11:02:16.796 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/ - 404 0 null 23.0805ms
2025-10-26 11:02:16.803 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5067/, Response status code: 404
2025-10-26 11:02:19.844 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/scalar - null null
2025-10-26 11:02:19.847 +03:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2025-10-26 11:02:19.879 +03:00 [INF] Executing RedirectResult, redirecting to scalar/.
2025-10-26 11:02:19.879 +03:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2025-10-26 11:02:19.880 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/scalar - 302 0 null 37.539ms
2025-10-26 11:02:19.882 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/scalar/ - null null
2025-10-26 11:02:19.883 +03:00 [INF] Executing endpoint 'HTTP: GET /scalar/{documentName?}'
2025-10-26 11:02:19.930 +03:00 [INF] Write content with HTTP Response ContentType of text/html
2025-10-26 11:02:19.938 +03:00 [INF] Executed endpoint 'HTTP: GET /scalar/{documentName?}'
2025-10-26 11:02:19.939 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/scalar/ - 200 null text/html 57.2102ms
2025-10-26 11:02:19.951 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/scalar/scalar.js - null null
2025-10-26 11:02:19.952 +03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.js'
2025-10-26 11:02:19.953 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/scalar/scalar.aspnetcore.js - null null
2025-10-26 11:02:19.954 +03:00 [INF] CORS policy execution successful.
2025-10-26 11:02:19.955 +03:00 [INF] Executing endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2025-10-26 11:02:19.960 +03:00 [INF] Sending file with download name ''.
2025-10-26 11:02:19.960 +03:00 [INF] Sending file with download name ''.
2025-10-26 11:02:19.961 +03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.aspnetcore.js'
2025-10-26 11:02:19.961 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/scalar/scalar.aspnetcore.js - 200 1046 text/javascript 8.9074ms
2025-10-26 11:02:19.969 +03:00 [INF] Executed endpoint 'HTTP: GET /scalar/scalar.js'
2025-10-26 11:02:19.970 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/scalar/scalar.js - 200 926401 text/javascript 18.7388ms
2025-10-26 11:02:20.122 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/openapi/v1.json - null null
2025-10-26 11:02:20.123 +03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-10-26 11:02:20.176 +03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-10-26 11:02:20.177 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/openapi/v1.json - 200 null application/json;charset=utf-8 54.1392ms
2025-10-26 11:02:20.177 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5067/openapi/v1.json - null null
2025-10-26 11:02:20.177 +03:00 [INF] Executing endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-10-26 11:02:20.178 +03:00 [INF] Executed endpoint 'HTTP: GET /openapi/{documentName}.json'
2025-10-26 11:02:20.178 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5067/openapi/v1.json - 200 null application/json;charset=utf-8 1.7817ms
2025-10-26 11:03:56.192 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:03:56.195 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:03:56.211 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-26 11:03:56.633 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:03:56.641 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:03:56.650 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:03:56.656 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/register - 403 null application/json; charset=utf-8 465.1788ms
2025-10-26 11:04:58.872 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:04:58.874 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:04:59.008 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:04:59.017 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:04:59.018 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:04:59.019 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/register - 403 null application/json; charset=utf-8 146.8718ms
2025-10-26 11:05:11.435 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:05:11.435 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:05:11.550 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:05:41.845 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-10-26 11:05:41.904 +03:00 [INF] Now listening on: http://localhost:5067
2025-10-26 11:05:41.905 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-26 11:05:41.905 +03:00 [INF] Hosting environment: Development
2025-10-26 11:05:41.905 +03:00 [INF] Content root path: /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi
2025-10-26 11:05:46.277 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:05:46.289 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-26 11:05:46.292 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:05:46.298 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-26 11:05:46.624 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:06:01.324 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:06:01.362 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:06:01.389 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/register - 403 null application/json; charset=utf-8 15111.5225ms
2025-10-26 11:07:50.273 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:07:50.276 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:07:50.422 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:07:59.540 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:08:03.808 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:08:07.501 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/register - 403 null application/json; charset=utf-8 17228.4228ms
2025-10-26 11:08:38.015 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:08:38.018 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:08:40.038 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:08:40.426 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:08:40.427 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:08:40.429 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/register - 403 null application/json; charset=utf-8 2413.9978ms
2025-10-26 11:08:51.497 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-10-26 11:08:51.551 +03:00 [INF] Now listening on: http://localhost:5067
2025-10-26 11:08:51.552 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-26 11:08:51.552 +03:00 [INF] Hosting environment: Development
2025-10-26 11:08:51.552 +03:00 [INF] Content root path: /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi
2025-10-26 11:09:05.518 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:09:05.530 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-26 11:09:05.534 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:09:05.539 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-26 11:09:05.857 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:10:10.020 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:10:10.062 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:10:10.082 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/register - 403 null application/json; charset=utf-8 64565.2723ms
2025-10-26 11:10:21.287 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-10-26 11:10:21.348 +03:00 [INF] Now listening on: http://localhost:5067
2025-10-26 11:10:21.349 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-26 11:10:21.349 +03:00 [INF] Hosting environment: Development
2025-10-26 11:10:21.349 +03:00 [INF] Content root path: /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi
2025-10-26 11:10:30.177 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:10:30.190 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-26 11:10:30.193 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:10:30.198 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-26 11:10:58.471 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:11:13.242 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:11:13.265 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 403 (Forbidden): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:11:13.284 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/register - 403 null application/json; charset=utf-8 43108.2219ms
2025-10-26 11:12:26.610 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:12:26.614 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:12:29.081 +03:00 [INF] Setting HTTP status code 201.
2025-10-26 11:12:29.081 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:12:29.082 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/register - 201 0 null 2473.1575ms
2025-10-26 11:12:38.935 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:12:38.940 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:12:41.083 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:12:44.765 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 409 (Conflict): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:12:44.771 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 409 (Conflict): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:12:44.777 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/register - 409 null application/json; charset=utf-8 5842.4804ms
2025-10-26 11:13:06.213 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 11:13:06.242 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:13:06.252 +03:00 [INF] Starting Keycloak login for a@a.com
2025-10-26 11:13:06.314 +03:00 [INF] Keycloak login succeeded for a@a.com
2025-10-26 11:13:06.316 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:13:06.316 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 200 null application/json; charset=utf-8 103.1573ms
2025-10-26 11:23:42.093 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/register - application/json 86
2025-10-26 11:23:42.098 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:23:43.964 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:23:44.909 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 409 (Conflict): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:23:44.911 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 409 (Conflict): POST http://localhost:8080/admin/realms/campuwise/users
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RegisterAsync(String fullName, String password, String email) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 89
   at UserService.Application.User.Commands.RegisterCommandHandler.Handle(RegisterCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RegisterCommand.cs:line 42
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 31
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:23:44.913 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/register - 409 null application/json; charset=utf-8 2820.1818ms
2025-10-26 11:26:32.354 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/register - application/json 66
2025-10-26 11:26:32.356 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:26:37.465 +03:00 [INF] Setting HTTP status code 201.
2025-10-26 11:26:37.465 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:26:37.465 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/register - 201 0 null 5111.0854ms
2025-10-26 11:40:00.069 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 11:40:00.071 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:40:00.073 +03:00 [INF] Starting Keycloak login for a@a.com
2025-10-26 11:40:00.139 +03:00 [INF] Keycloak login succeeded for a@a.com
2025-10-26 11:40:00.141 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:40:00.141 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 200 null application/json; charset=utf-8 73.032ms
2025-10-26 11:40:04.913 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 11:40:04.913 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:40:04.916 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 11:40:04.975 +03:00 [ERR] Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token for b@b.com
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
2025-10-26 11:40:05.038 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:40:17.459 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:40:19.608 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:40:19.609 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 401 null application/json; charset=utf-8 14695.7322ms
2025-10-26 11:40:53.745 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 11:40:53.748 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:40:53.751 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 11:40:53.797 +03:00 [ERR] Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token for b@b.com
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
2025-10-26 11:40:53.852 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:40:56.228 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:40:56.231 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:40:56.236 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 401 null application/json; charset=utf-8 2491.2943ms
2025-10-26 11:41:05.523 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 11:41:05.523 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:41:05.524 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 11:41:05.574 +03:00 [INF] Keycloak login succeeded for b@b.com
2025-10-26 11:41:05.575 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:41:05.575 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 200 null application/json; charset=utf-8 52.2126ms
2025-10-26 11:43:08.745 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 44
2025-10-26 11:43:08.748 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:43:08.804 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:43:12.274 +03:00 [ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Şifre en az bir büyük harf içermeli.:  Severity: Error
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 46
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:43:12.274 +03:00 [WRN] Validation failed
FluentValidation.ValidationException: Validation failed: 
 -- Şifre en az bir büyük harf içermeli.:  Severity: Error
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 46
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:43:12.279 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 400 null application/json; charset=utf-8 3534.3581ms
2025-10-26 11:43:26.576 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 41
2025-10-26 11:43:26.576 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:43:26.576 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 11:43:26.635 +03:00 [ERR] Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token for b@b.com
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
2025-10-26 11:43:26.686 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:43:29.897 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:43:29.898 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:43:29.899 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 401 null application/json; charset=utf-8 3323.416ms
2025-10-26 11:43:50.866 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 11:43:50.872 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:43:50.873 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 11:43:50.906 +03:00 [INF] Keycloak login succeeded for b@b.com
2025-10-26 11:43:50.906 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:43:50.906 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 39.8563ms
2025-10-26 11:44:10.892 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/register - application/json 72
2025-10-26 11:44:10.892 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/register'
2025-10-26 11:44:10.966 +03:00 [INF] Setting HTTP status code 201.
2025-10-26 11:44:10.966 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/register'
2025-10-26 11:44:10.966 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/register - 201 0 null 74.2149ms
2025-10-26 11:44:18.132 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 11:44:18.133 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:44:18.135 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:44:18.179 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 11:44:18.180 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:44:18.180 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 47.3819ms
2025-10-26 11:44:21.831 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 41
2025-10-26 11:44:21.831 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:44:21.832 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:44:21.883 +03:00 [ERR] Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token for f@f.com
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
2025-10-26 11:44:21.931 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:44:21.937 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:44:21.937 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:44:21.938 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 401 null application/json; charset=utf-8 107.3979ms
2025-10-26 11:44:28.784 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 11:44:28.784 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:44:28.784 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:44:28.813 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 11:44:28.813 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:44:28.813 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 29.596ms
2025-10-26 11:47:50.738 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 43
2025-10-26 11:47:50.740 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:47:50.741 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:47:50.798 +03:00 [ERR] Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token for f@f.com
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
2025-10-26 11:47:50.848 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:47:50.855 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:47:50.855 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:47:50.857 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 401 null application/json; charset=utf-8 118.8634ms
2025-10-26 11:47:54.915 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 43
2025-10-26 11:47:54.915 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:47:54.915 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:47:54.964 +03:00 [ERR] Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token for f@f.com
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
2025-10-26 11:47:55.014 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:47:55.020 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:47:55.021 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:47:55.022 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 401 null application/json; charset=utf-8 107.829ms
2025-10-26 11:48:00.801 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 43
2025-10-26 11:48:00.801 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:48:00.802 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:48:00.852 +03:00 [ERR] Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token for f@f.com
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
2025-10-26 11:48:00.916 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:48:00.922 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:48:00.922 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:48:00.923 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 401 null application/json; charset=utf-8 122.221ms
2025-10-26 11:50:14.809 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 43
2025-10-26 11:50:14.810 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:50:14.811 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:50:14.869 +03:00 [ERR] Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token for f@f.com
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
2025-10-26 11:50:14.919 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:50:14.926 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:50:14.926 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:50:14.928 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 401 null application/json; charset=utf-8 119.0869ms
2025-10-26 11:50:28.267 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 43
2025-10-26 11:50:28.267 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:50:28.268 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:50:28.304 +03:00 [ERR] Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token for f@f.com
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
2025-10-26 11:50:28.354 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:50:28.360 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:50:28.360 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:50:28.361 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 401 null application/json; charset=utf-8 94.2504ms
2025-10-26 11:51:43.810 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 42
2025-10-26 11:51:43.813 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:51:43.817 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:51:43.899 +03:00 [ERR] Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token for f@f.com
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
2025-10-26 11:51:43.950 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:51:43.957 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:51:43.957 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 401 (Unauthorized): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.LoginAsync(String email, String password) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 30
   at UserService.Application.User.Commands.LoginCommandHandler.Handle(LoginCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/LoginCommand.cs:line 37
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_0>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 21
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 11:51:43.958 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 401 null application/json; charset=utf-8 148.2413ms
2025-10-26 11:51:50.069 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 11:51:50.070 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:51:50.070 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:51:50.106 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 11:51:50.107 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:51:50.107 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 37.3282ms
2025-10-26 11:53:03.884 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 11:53:03.886 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:53:03.887 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:53:03.936 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 11:53:03.936 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:53:03.936 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 52.5209ms
2025-10-26 11:58:15.870 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 11:58:15.871 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 11:58:15.873 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 11:58:15.952 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 11:58:15.952 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 11:58:15.952 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 82.2086ms
2025-10-26 12:04:13.397 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 12:04:13.398 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 12:04:13.399 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 12:04:13.445 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 12:04:13.445 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 12:04:13.445 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 48.7435ms
2025-10-26 12:11:40.726 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 12:11:40.728 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 12:11:40.729 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 12:11:40.791 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 12:11:40.792 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 12:11:40.792 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 65.7485ms
2025-10-26 12:20:22.047 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 12:20:22.049 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 12:20:22.051 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 12:20:22.128 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 12:20:22.129 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 12:20:22.129 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 82.17ms
2025-10-26 12:26:15.359 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 12:26:15.360 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 12:26:15.362 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 12:26:15.429 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 12:26:15.429 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 12:26:15.429 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 71.0694ms
2025-10-26 12:31:47.199 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 12:31:47.202 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 12:31:47.203 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 12:31:47.280 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 12:31:47.281 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 12:31:47.281 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 82.1826ms
2025-10-26 12:32:31.006 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 12:32:31.008 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 12:32:31.010 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 12:32:31.068 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 12:32:31.069 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 12:32:31.069 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 63.561ms
2025-10-26 12:43:56.056 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 12:43:56.058 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 12:43:56.059 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 12:43:56.123 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 12:43:56.124 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 12:43:56.124 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 67.5274ms
2025-10-26 13:31:41.623 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-10-26 13:31:41.683 +03:00 [INF] Now listening on: http://localhost:5067
2025-10-26 13:31:41.684 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-26 13:31:41.684 +03:00 [INF] Hosting environment: Development
2025-10-26 13:31:41.684 +03:00 [INF] Content root path: /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi
2025-10-26 13:31:49.609 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - null 0
2025-10-26 13:31:49.620 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-26 13:31:49.623 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:31:49.624 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:31:49.625 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Implicit body inferred for parameter "request" but no body was provided. Did you mean to use a Service instead?
   at lambda_method6(Closure, Object, HttpContext, Object)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 13:31:49.637 +03:00 [ERR] Unhandled exception
Microsoft.AspNetCore.Http.BadHttpRequestException: Implicit body inferred for parameter "request" but no body was provided. Did you mean to use a Service instead?
   at lambda_method6(Closure, Object, HttpContext, Object)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 13:31:49.652 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 500 null application/json; charset=utf-8 44.727ms
2025-10-26 13:32:01.175 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 8
2025-10-26 13:32:01.177 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:32:01.185 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-26 13:32:01.318 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:32:01.321 +03:00 [ERR] An unhandled exception has occurred while executing the request.
FluentValidation.ValidationException: Validation failed: 
 -- Refresh token boş olamaz.:  Severity: Error
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 46
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 29
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 13:32:01.325 +03:00 [WRN] Validation failed
FluentValidation.ValidationException: Validation failed: 
 -- Refresh token boş olamaz.:  Severity: Error
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 46
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 29
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 13:32:01.326 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 400 null application/json; charset=utf-8 152.338ms
2025-10-26 13:32:11.926 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 35
2025-10-26 13:32:11.927 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:32:12.084 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:32:12.084 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 158.9328ms
2025-10-26 13:34:02.736 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 13:34:02.737 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 13:34:02.746 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 13:34:02.848 +03:00 [INF] Keycloak login succeeded for b@b.com
2025-10-26 13:34:02.849 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 13:34:02.849 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 200 null application/json; charset=utf-8 113.1293ms
2025-10-26 13:34:23.449 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 690
2025-10-26 13:34:23.450 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:34:23.507 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:34:23.507 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 57.9575ms
2025-10-26 13:34:38.230 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 690
2025-10-26 13:34:38.234 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:34:38.314 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:34:38.315 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 84.5405ms
2025-10-26 13:35:30.939 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 690
2025-10-26 13:35:30.940 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:35:31.037 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:35:31.037 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 97.9006ms
2025-10-26 13:35:48.455 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 690
2025-10-26 13:35:48.458 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:36:19.728 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:36:19.729 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 31254.2163ms
2025-10-26 13:38:21.130 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 690
2025-10-26 13:38:21.133 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:38:26.855 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:38:26.856 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 5727.0783ms
2025-10-26 13:38:31.440 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-10-26 13:38:31.581 +03:00 [INF] Now listening on: http://localhost:5067
2025-10-26 13:38:31.586 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-26 13:38:31.586 +03:00 [INF] Hosting environment: Development
2025-10-26 13:38:31.586 +03:00 [INF] Content root path: /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi
2025-10-26 13:38:35.805 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 690
2025-10-26 13:38:35.822 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-26 13:38:35.826 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:38:35.835 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-26 13:38:36.148 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:38:36.150 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 346.7221ms
2025-10-26 13:38:48.945 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 33
2025-10-26 13:38:48.947 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:38:51.922 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:38:51.922 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 2978.2705ms
2025-10-26 13:40:04.952 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 33
2025-10-26 13:40:04.954 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:41:05.940 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:41:05.941 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 60988.6294ms
2025-10-26 13:41:45.434 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 33
2025-10-26 13:41:45.458 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:42:43.717 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-10-26 13:42:43.782 +03:00 [INF] Now listening on: http://localhost:5067
2025-10-26 13:42:43.783 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-26 13:42:43.783 +03:00 [INF] Hosting environment: Development
2025-10-26 13:42:43.784 +03:00 [INF] Content root path: /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi
2025-10-26 13:42:47.823 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 33
2025-10-26 13:42:47.834 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-26 13:42:47.837 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:42:47.842 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-26 13:42:50.635 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:42:50.637 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 2814.4968ms
2025-10-26 13:43:53.695 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 33
2025-10-26 13:43:53.699 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:45:11.407 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-10-26 13:45:11.476 +03:00 [INF] Now listening on: http://localhost:5067
2025-10-26 13:45:11.477 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-26 13:45:11.477 +03:00 [INF] Hosting environment: Development
2025-10-26 13:45:11.477 +03:00 [INF] Content root path: /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi
2025-10-26 13:45:13.067 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 33
2025-10-26 13:45:13.080 +03:00 [WRN] Failed to determine the https port for redirect.
2025-10-26 13:45:13.083 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:45:13.088 +03:00 [WRN] You do not have a valid license key for the Lucky Penny software MediatR. This is allowed for development and testing scenarios. If you are running in production you are required to have a licensed version. Please visit https://luckypennysoftware.com to obtain a valid license.
2025-10-26 13:45:16.818 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:45:16.826 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Flurl.Http.FlurlHttpException: Call failed with status code 400 (Bad Request): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RefreshTokenAsync(String refreshToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 67
   at UserService.Application.User.Commands.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RefreshTokenCommand.cs:line 31
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 29
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 13:45:16.840 +03:00 [ERR] External service call failed
Flurl.Http.FlurlHttpException: Call failed with status code 400 (Bad Request): POST http://localhost:8080/realms/campuwise/protocol/openid-connect/token
   at Flurl.Http.FlurlClient.HandleExceptionAsync(FlurlCall call, Exception ex, CancellationToken token)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at Flurl.Http.FlurlClient.SendAsync(IFlurlRequest request, HttpCompletionOption completionOption, CancellationToken cancellationToken)
   at UserService.Infrastructure.KeycloakService.RefreshTokenAsync(String refreshToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Infrastructure/External/KeycloakService.cs:line 67
   at UserService.Application.User.Commands.RefreshTokenHandler.Handle(RefreshTokenCommand request, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/User/Commands/RefreshTokenCommand.cs:line 31
   at UserService.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.Application/Behaviors/ValidationBehavior.cs:line 49
   at UserService.WebApi.Modules.AuthModule.<>c.<<RegisterAuthRoutes>b__0_1>d.MoveNext() in /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi/Modules/AuthModule.cs:line 29
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<ExecuteTaskOfTFast>g__ExecuteAwaited|131_0[T](Task`1 task, HttpContext httpContext, JsonTypeInfo`1 jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass101_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|10_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2025-10-26 13:45:16.988 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 400 null application/json; charset=utf-8 3922.065ms
2025-10-26 13:45:27.014 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/refresh-token - application/json 690
2025-10-26 13:45:27.016 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:45:29.137 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/refresh-token'
2025-10-26 13:45:29.137 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/refresh-token - 200 null application/json; charset=utf-8 2124.4033ms
2025-10-26 14:05:52.417 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 14:05:52.423 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 14:05:52.455 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 14:05:52.590 +03:00 [INF] Keycloak login succeeded for b@b.com
2025-10-26 14:05:52.594 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 14:05:52.594 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 200 null application/json; charset=utf-8 176.9387ms
2025-10-26 14:10:04.327 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 14:10:04.330 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 14:10:04.333 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 14:10:04.400 +03:00 [INF] Keycloak login succeeded for b@b.com
2025-10-26 14:10:04.401 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 14:10:04.401 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 200 null application/json; charset=utf-8 73.684ms
2025-10-26 14:10:06.633 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 14:10:06.634 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 14:10:06.636 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 14:10:06.668 +03:00 [INF] Keycloak login succeeded for b@b.com
2025-10-26 14:10:06.668 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 14:10:06.668 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 200 null application/json; charset=utf-8 34.9163ms
2025-10-26 14:16:01.725 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 14:16:01.730 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 14:16:01.732 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 14:16:01.763 +03:00 [INF] Keycloak login succeeded for b@b.com
2025-10-26 14:16:01.764 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 14:16:01.764 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 200 null application/json; charset=utf-8 39.9797ms
2025-10-26 14:18:45.318 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5067/auth/login - application/json 54
2025-10-26 14:18:45.320 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 14:18:45.322 +03:00 [INF] Starting Keycloak login for b@b.com
2025-10-26 14:18:45.357 +03:00 [INF] Keycloak login succeeded for b@b.com
2025-10-26 14:18:45.357 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 14:18:45.357 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5067/auth/login - 200 null application/json; charset=utf-8 39.7254ms
2025-10-26 14:28:54.876 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 14:28:54.878 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 14:28:54.880 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 14:28:55.073 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 14:28:55.078 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 14:28:55.078 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 201.9079ms
2025-10-26 14:29:17.647 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 14:29:17.648 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 14:29:17.652 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 14:29:17.717 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 14:29:17.717 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 14:29:17.718 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 70.83ms
2025-10-26 14:47:59.106 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 14:47:59.108 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 14:47:59.112 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 14:47:59.244 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 14:47:59.249 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 14:47:59.249 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 142.9639ms
2025-10-26 14:50:41.987 +03:00 [INF] Request starting HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - application/json 40
2025-10-26 14:50:41.995 +03:00 [INF] Executing endpoint 'HTTP: POST /auth/login'
2025-10-26 14:50:42.000 +03:00 [INF] Starting Keycloak login for f@f.com
2025-10-26 14:50:42.134 +03:00 [INF] Keycloak login succeeded for f@f.com
2025-10-26 14:50:42.138 +03:00 [INF] Executed endpoint 'HTTP: POST /auth/login'
2025-10-26 14:50:42.138 +03:00 [INF] Request finished HTTP/1.1 POST http://b06b9dc85986.ngrok-free.app/auth/login - 200 null application/json; charset=utf-8 151.546ms
2025-10-26 14:57:00.814 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2025-10-26 14:57:00.881 +03:00 [INF] Now listening on: http://localhost:5067
2025-10-26 14:57:00.882 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-10-26 14:57:00.882 +03:00 [INF] Hosting environment: Development
2025-10-26 14:57:00.882 +03:00 [INF] Content root path: /Users/ahmetsayan/Desktop/Projects/CampuWise/backend/services/user-service/src/UserService.WebApi
